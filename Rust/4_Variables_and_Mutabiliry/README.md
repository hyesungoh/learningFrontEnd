# Variables and Mutability

> 변수와 가변성

러스트의 기본 변수는 `불변`함

> 러스트의 안전성과 손쉬운 동시성이라는 장점을 취할 수 있도록 코드 작성을 강제하는 요소 중 하나

## 변수와 상수의 차이점

변수의 값을 변경할 수 없다는 것은 상수의 불변성과 비슷해보이지만, 조금은 다름

- 상수는 `mut`을 사용할 수 없음

  - 상수는 기본 설정이 불변성인 것이 아니고 불변성 그 자체

- 상수는 `const` 키워드를 이용해 선언할 수 있음
- 항상 type과 함께 선언해야함

- 상수는 오직 상수 표현식만 할당될 수 있음, 함수 호출의 결과값이나 그 외의 실행 시간에 결정되는 값이 설정될 수 없음

```Rust
const MAX_LENGTH: u32 = 1000;
```

## Shadowing

```Rust
fn main() {
  let x = 5;
  let x = x + 1;
  let x = x - 2;
  println!("x is {}", x);
}
```

위와 같이 선언한 변수와 같은 이름의 새 변수를 선언할 수 있고

새 변수가 이전 변수를 **가렸다**는 의미에서 shadowed라고 표현함

### `mut`으로 선언하는 것과 차이점

- `let` 키워드를 사용하지 않고 변수에 새로 값을 대입하려고 하면 컴파일 시에 에러 발생

  - 즉, 몇 번 값을 변경할 수 있지만 그 이후에는 불변성을 갖게되는 것

- 변수의 타입을 변경할 수 있음

```Rust
let spaces = "   "; // string 타입
let spaces = spaces.len(); // number 타입
```

이를 `mut`을 이용해 구현한다면...

```Rust
let mut spaces = "    ";
spaces = spaces.len();
```

이는 변수의 타입이 같지 않아 변경할 수 없다는 컴파일 에러를 발생시키게 됨
