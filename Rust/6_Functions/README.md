# Functions

러스트는 `fn` 키워드를 이용해 함수를 선언함

러스트는 `snake case`를 변수나 함수 이름의 형식 규칙으로 사용함

```rust
fn other_function() {
  println!("other");
}
```

> 대부분의 다른 언어처럼 `fn` 키워드 다음에 함수 이름, 괄호에 매개변수, 중괄호를 통해 컴파일러에게 함수 시작과 종료를 알려줌

```rust
fn main() {
  println!("main");

  other_function();
}

fn other_function() {
  println!("other");
}
```

또한 러스트는 위 예제처럼 함수의 위치를 신경쓰지 않고 호출할 수 있음

## 매개변수

함수가 매개변수를 취할 떄, 상수를 전달인자로 제공할 수 있는데

> 기술적으로 전달되는 상수를 `전달인자`라고 부르지만, 대부분 전달인자와 매개변수를 혼용해서 사용함

```rust
fn main() {
    another_function(5);
}

fn another_function(x: i32) {
    println!("The value of x is: {}", x);
}
```

위 예제에서는 `x`로 명명된 하나의 매개변수를 갖는데, `i32` 타입으로 정의되어 있음

**러스트는 반드시 각 매개변수의 타입을 정의해야함**

> 이는 러스트를 설계하며 내린 신중한 결정사항인데, 함수 정의 부분에 타입을 명시하여 코드 내 다른 부분에서 이들을 사용할 때 의도를 추측하지 않아도 되기 때문

```rust
fn main() {
    another_function(5, 6);
}

fn another_function(x: i32, y: i32) {
    println!("The value of x is: {}", x);
    println!("The value of y is: {}", y);
}
```

여러개의 매개변수는 쉼표로 구분지어 위처럼 사용할 수 있음

## 구문과 표현식

### 구문

구문은 어떤 명령들의 나열로, 값을 반환하지 않는 어떤 동작을 수행하는 것

```rust
fn main() {
    let y = 6;
}
```

`let y = 6;`은 구문이며, 함수 정의 또한 하나의 구문임

구문은 값을 반환하지 않음

```rust
fn main() {
    let x = (let y = 6);
}
```

구문은 값을 반환하지 않기 때문에, `x`에 bind할 값이 없음

C나 Ruby에서는 `x = y = 6`과 같은 코드를 통해 `x`와 `y`에 `6`을 대입할 수 있지만, 러스트에서는 허용되지 않음

### 표현식

표현식은 구문의 부분일 수 있음

간단한 예로 `5 + 6`은 `11`이란 값을 산출하는 표현식임

> `let y = 6;`이란 구문에서 `6`은 6이란 값을 산출하는 표현식

```rust
fn main() {
    let x = 5;

    let y = {
        let x = 3;
        x + 1
    };

    println!("The value of y is: {}", y);
}
```

위의 예제에서 `{}` 구역은 표현식이며, `y`에 `4`가 대입되게 됨

```rust
// 표현식 부
{
    let x = 3;
    x + 1
}
```

여기서 주목할 점은 표현식의 마지막 줄에 `x + 1`이 세미콜론으로 끝나지 않는 점임

표현식은 종결을 나타내는 세미콜론을 사용하지 않는데, 만약 세미콜론을 표현식 마지막에 추가하면 이는 **구문으로 변경되고 반환 값이 없게 됨**

## 반환 값을 갖는 함수

러스트는 `return` 키워드와 값을 사용해 반환할 수 있지만,

대부분의 함수들은 암묵적으로 마지막 표현식을 이용해 반환함

```rust
fn five() -> i32 {
    5
}

fn main() {
    let x = five();

    println!("The value of x is: {}", x);
}
```

`fn five() -> i32`와 같이 반환 값의 타입을 선언해야 함

```rust
fn main() {
    let x = plus_one(5);

    println!("The value of x is: {}", x);
}

fn plus_one(x: i32) -> i32 {
    x + 1
}
```

위 예제와 같이 매개변수(전달인자)와 함께 변수 선언 시에 사용할 수 있는데,

만약 `x + 1`에 세미콜론을 붙혀 구문이 되게 되면, 비어있는 튜플로 표현이 되어 함수가 정의된 내용과 상충하게 되고 에러를 발생시킴

> 표현식은 세미콜론을 사용하면 구문이 된다는 것이 중요
