# 잉여 속성 체크의 한계 인지하기

타입이 명시된 변수에 객체 러티럴을 할당할 때 타입스크립트는 해당 타입의 속성이 있는지, 그리고 그 **외의 속성은 없는지 **확인한다.

```ts
interface Room {
  numDoors: number;
  height: number;
}

const r: Room = {
  numDoors: 2,
  height: 10,
  foo: "present", // error
};
```

생뚱맞게 존재하는 속성이 있을 시 어색하긴 하지만 구조적 타이핑 관점으로 생각해 보면 오류가 발생하지 않아야 한다.

이 때 임시 변수를 도입해 보면 알 수 있다.

```ts
const obj = {
  numDoors: 2,
  height: 10,
  foo: "present",
};

const r: Room = obj; // 정상
```

obj의 타입은 Room 타입의 부분 집합을 포함하므로 Room에 할당 가능하며 타입 체커도 통과한다.

## 잉여 속성 체크와 할당 가능 검사는 별도의 과정이다.

타입스크립트는 단순히 런타임에 예외를 던지는 코드에 오류를 표시하는 것뿐 아니라, 의도와 다르게 작성된 코드까지 찾으려고 한다.

## 요약

- 객체 리터럴을 변수에 할당하거나 함수에 매개변수로 전달할 때 잉여 속성 체크가 수행된다.

- 잉여 속성 체크는 오류를 찾는 효과적인 방법이지만, 타입스크립트 타입 체커가 수행하는 일반적인 구조적 할당 가능성 체크와 역할이 다르다.
  할당의 개념을 정확히 알아야 잉여 속성 체크와 일반적인 구조적 할당 가능성 체크를 구분할 수 있다.

- 잉여 속성 체크에는 한계가 있다. 임시 변수를 도입하면 잉여 속성 체크를 건너뛸 수 있다는 점을 기억해야 한다.
