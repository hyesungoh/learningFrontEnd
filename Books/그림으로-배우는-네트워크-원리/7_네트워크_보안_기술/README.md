# 네트워크 보안 기술

## 접속하는 사용자와 기기를 제한하는 3가지 방법

- 인증
  - 패스워드 인증
  - IC 카드 등 물건으로 인증
  - 바이오메트릭스 인증

## 데이터 도청을 방지하는 기술

- 네트워크 상에서 전송되는 데이터는 제3자에게 도청(유출)될 위험이 있음
  - 이를 위해 암호화함
  - 찐 사용자 말고는 읽지 몬하게

- 암호화하기 전의 데이터를 '평문'이라 함
  - 평문을 암호화하기 위해서 '암호키'를 사용
  - 평문과 암호키로 수학적 연산을 거쳐 암호화된 데이터인 '암호문'
  - 되돌리는 것을 '복호'

## 키 하나로 데이터를 관리한다

- 공통키 암호 방식
  - 암호화와 복호화에 같은 암호키를 이용하는 방식
  - 대칭키 암호방식, 비밀키 암호방식이라고도 불림

- 암호화와 복호의 처리 부하가 작다는 장점
- 암호키의 공유가 어렵다는 커다란 단점
  - 어떻게 암호키를 안전하게 송신자와 수신자가 공유하는지가 가장 중요한 과제

- 같은 암호키를 계속 사용하면 규칭성에 의해 암호가 해독될 수 있음
  - 암호키를 공유하고 갱신하는지를 가리켜 키 배송 문제라고 함

- 주요 공통키 암호 방식의 알고리즘으로는 3DES, AES가 있음
  - 현재는 AES가 널리 이용딤

```
1. 블록 암호화:

AES는 데이터를 작은 조각, 즉 "블록"으로 나누어 암호화합니다. 일반적으로 128비트(16바이트) 크기의 블록을 사용해요. 큰 파일은 여러 개의 블록으로 나누어 처리됩니다.
2. 키 길이:

AES는 3가지 키 길이를 지원해요: 128비트, 192비트, 256비트. 키 길이가 길수록 암호가 더 강해져요. 키는 암호화와 복호화(원래 데이터로 되돌리는 과정)에 사용됩니다.
3. 암호화 과정:

AES의 암호화 과정은 여러 단계로 이루어져 있습니다:

    AddRoundKey: 초기 블록 데이터에 비밀번호(키)를 더합니다.

    SubBytes: 각 바이트를 미리 정해진 표에 따라 다른 값으로 바꿉니다. 이 과정은 데이터를 섞어서 예측하기 어렵게 만듭니다.

    ShiftRows: 각 행의 바이트를 왼쪽으로 이동시킵니다. 이 단계도 데이터를 더욱 섞는 역할을 합니다.

    MixColumns: 각 열의 바이트를 조합하여 다시 섞습니다. 이 과정은 데이터의 복잡성을 더합니다.

    이 과정을 여러 번 반복합니다. (예: 10회, 12회, 14회 depending on key length)

```

## 2개의 키로 데이터를 관리한다

- 키 배송 문제를 해결하기 위해 공개키 암호 방식이 등장

- 공개키와 비밀키가 존재
  - 둘은 수학적 연관성이 존재
  - 공개키는 공개해도 됨.
  - 공개키로 비밀키를 알아낼 수는 있지만, 현실적인 시간 내에 계산하기 매우 어려움
  - 공개키로 해독될 위험은 아주 작음

- 공개키로 암호화하는 것은 누구나 할 수 있지만
  - 복호는 비밀키를 가진 사용자만 가능

## 암호화된 데이터로 암호화한 상대를 특정한다

- 비밀키로 암호화하고 공개키로 복호할 수도 있음
  - 이를 이용해 데이터를 보낸 사람을 특정할 수 있음

- RSA 암호와 타원곡선 암호 알고리즘이 자주 이용됨
  - RSA 암호는 매우 큰 수의 소인수 분해가 어렵다는 점을 이용
  - 타원곡선 암호는 타원곡선 상의 이산대수문제가 어렵다는 점을 이용

```
타원곡선은 일반적으로 다음과 같은 방정식으로 표현됨
[ y^2 = x^3 + ax + b ]

타원곡선 상의 이산대수 문제를 초등학생이 이해할 수 있도록 쉽게 설명해볼게요!
타원곡선이란?

먼저, 타원곡선은 특별한 모양의 곡선이에요. 이 곡선은 수학에서 특정한 규칙을 따라 그려진 곡선으로, 종종 "타원"이라고 불리기도 해요. 타원곡선은 평면 위에 점들이 어떻게 배열되어 있는지를 보여주는 거예요.
이산대수 문제란?

이제 이산대수 문제에 대해 이야기해볼게요. 이산대수 문제는 "어떤 숫자를 모르는데, 그 숫자를 찾는 것"이라고 생각할 수 있어요. 예를 들어, 우리가 어떤 비밀번호를 알고 싶지만, 그 비밀번호를 직접 보지 못했을 때, 그 비밀번호가 무엇인지 찾아내는 문제와 비슷해요.
타원곡선과 이산대수 문제의 연결

타원곡선 상의 이산대수 문제는 다음과 같이 생각할 수 있어요:

    비밀의 점: 타원곡선 위에는 많은 점들이 있어요. 이 점들 중 하나를 비밀이라고 생각해보세요.

    숫자와 점: 어떤 숫자를 사용해서 그 비밀의 점에 도달할 수 있어요. 하지만 그 숫자를 모르고, 오직 비밀의 점만 알고 있어요.

    찾기: 이산대수 문제는 그 비밀의 숫자를 찾아내는 것이에요. 즉, 어떤 점에 도달하기 위해 사용한 숫자가 무엇인지 알아내는 것이죠.

```

## 데이터를 만든 상대방을 특정한다

- 비밀키로 암호화한 데이터는 공개키로 복호할 수 있는 원리를 이용해
  - 데이터를 보낸 곳과 데이터가 변조되지 않았음을 확인하기 위해 '디지털 서명'이 존재

- 디지털 서명은 데이터의 해시값을 비밀키로 암호화한 것

## 암호화에 사용할 공개키는 진짜인가?

- 악의를 가진 제3자가 수신자가 되어 공개키를 공개할 가능성이 존재함
  - 모든 데이터를 악의를 가진 사람이 복호할 수 있게 됨

- 공개키 진짜인지 확인하고 공개키 암호를 안전하게 이용하기 위한 PKI 인프라가 있음
  - Public Key Infrastructure

- PKI는 인증기관(CA)에서 발행한 디지털 인증서로 공개키 암호를 안전하게 이용할 수 있도록 함
  - CA는 신뢰할 수 있는 제3자 기관
  - 많은 CA가 있고, CA끼리는 서로를 신뢰
  - 디지털 인증서에는 CA가 보증하는 진짜 공개키가 포함되어 있음

## 온라인 쇼핑의 안정성을 확보한다

- SSL
  - 디지털 인증서로 통신 상대방이 진짜라는 것을 확인
  - 상대방에게 보내는 데이터를 암호화해 도청을 방지
  - HTTPS

- SSL은 하이브리드 암호
  - 공개키 암호 방식과 공통키 암호 방식을 조합한 것
  - 인증서에 포함된 공개키는 공통키를 안전하게 배송하기 위해 사용됨
  - 데이터를 공통키 암호 방식으로 암호화함
  
## 거점 간 통신을 저비용으로 안전하게 수행한다

- VPN
  - Virtual Private Network
  - 인터넷을 경유해 거점 간 통신을 안전하게 할 수 있음
  - 인터넷을 가상으로 사설 네트워크처럼 다루는 기술

- 주요 구현 방법
  - 거점 LAN의 라우터 사이를 가상으로 연결 (터널림)
  - 거점 LAN 간의 통신은 터널을 경유하도록 라우팅
  - 터널을 경유하는 데이터를 암호화함

- 데이터 암호화에는 IPSec이나 SSL과 같은 암호화 프로토콜을 이용함

